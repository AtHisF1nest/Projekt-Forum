<div id="thread-content" class="inner-main-body p-2 p-sm-3 collapse forum-content">
  <a href="#" class="btn btn-light btn-sm mb-3 has-icon" data-toggle="collapse" data-target="#thread-content"><i class="fa fa-arrow-left mr-2"></i>Back</a>
  <div class="card mb-2" *ngIf="threadDetail !== undefined">
    <div class="card-body">
      <div class="media forum-item">
        <a href="javascript:void(0)" class="card-link">
          <img src="https://bootdey.com/img/Content/avatar/avatar1.png" class="rounded-circle" width="50" alt="User" />
          <small class="d-block text-center text-muted">{{threadDetail.thread.user.postCount}} postów</small>
        </a>
        <div class="media-body ml-3">
          <a href="javascript:void(0)" class="text-secondary">{{threadDetail.thread.user.login | titlecase}}</a>
          <small class="text-muted ml-2">{{threadDetail.thread.lastReply}}</small>
          <h5 class="mt-1">{{threadDetail.thread.title}}</h5>
          <div class="mt-3 font-size-sm">
            {{threadDetail.thread.content}}
          </div>
        </div>
        <div class="text-muted small text-center">
          <span class="d-none d-sm-inline-block"><i class="far fa-eye"></i> {{threadDetail.thread.seenCount}}</span>
          <span><i class="far fa-comment ml-2"></i> {{threadDetail.thread.postCount}}</span>
        </div>
      </div>
    </div>
  </div>
  <ng-container *ngIf="threadDetail !== undefined">
    <div class="card mb-2" *ngFor="let post of threadDetail.posts;">
      <div class="card-body">
        <div class="media forum-item">
          <a href="javascript:void(0)" class="card-link">
            <img src="https://bootdey.com/img/Content/avatar/avatar2.png" class="rounded-circle" width="50" alt="User" />
            <small class="d-block text-center text-muted">{{post.user.postCount}} postów</small>
          </a>
          <div class="media-body ml-3">
            <a href="javascript:void(0)" class="text-secondary">{{post.user.login | titlecase}}</a>
            <small class="text-muted ml-2">{{post.replyTime}}</small>
            <div class="mt-3 font-size-sm" style="white-space: pre-wrap">
                {{post.message}}
            </div>
            <button (click)="likePost(post)" class="btn btn-xs text-muted has-icon"><i class="fa fa-heart pr-1" aria-hidden="true"></i>{{post.likeCount}}</button>
            <a href="javascript:void(0)" class="text-muted small" (click)="replyToPost(post)">Odpowiedz</a>
            <i (click)="deletePost(post.id)" class="fa fa-times pl-3" style="cursor: pointer; font-size: 12px;"></i>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <div class="card mb-2">
    <div class="card-body">
      <div class="media forum-item">
        <a href="javascript:void(0)" class="card-link">
          <img src="https://bootdey.com/img/Content/avatar/avatar2.png" class="rounded-circle" width="50" alt="User" />
          <small class="d-block text-center text-muted">Pro</small>
        </a>
        <div class="media-body ml-3">
          <a href="javascript:void(0)" class="text-secondary">Ty</a>
          <small class="text-muted ml-2"></small>
          <div class="mt-3 font-size-sm mb-3">
            <textarea [(ngModel)]="newPost.message" class="form-control"></textarea>
          </div>
          <button class="btn btn-success" (click)="addPost()">Odpowiedz</button>
        </div>
      </div>
    </div>
  </div>
</div>
